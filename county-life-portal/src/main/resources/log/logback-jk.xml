<Configuration status="warn" monitorInterval="30" strict="true">
    <Properties>
        <Property name="APP_NAME">countyLife</Property>
        <Property name="BASE_PATH">/Volumes/本地磁盘 D/data/logCenter</Property>
        <Property name="LOG_PATH">${BASE_PATH}/${APP_NAME}.log</Property>
        <Property name="LOG_DATE_PATTERN">yyyy-MM-dd HH:mm:ss.SSS</Property>
        <Property name="LOG_CENTER_LOG_PATTERN">%d{${LOG_DATE_PATTERN}} %5p [${APP_NAME}] --- [%t] %-40.40c{1.} : %m%n</Property>
    </Properties>

    <Appenders>
        <!--这个输出控制台的配置-->
        <console name="STDOUT" target="SYSTEM_OUT">
            <!--输出日志的格式-->
            <PatternLayout pattern="${LOG_CENTER_LOG_PATTERN}"/>
        </console>
        <RollingFile name="logCenter" append="true" fileName="${LOG_PATH}" filePattern="${BASE_PATH}/${APP_NAME}-%d{yyyyMMddHH}-%i.log">
            <PatternLayout>
                <Pattern>${LOG_CENTER_LOG_PATTERN}</Pattern>
            </PatternLayout>
            <Policies>
                <SizeBasedTriggeringPolicy size="128 MB"/>
                <TimeBasedTriggeringPolicy/>
            </Policies>
            <DefaultRolloverStrategy fileIndex="nomax">
                <Delete basePath="${BASE_PATH}">
                    <IfFileName glob="${APP_NAME}*.log"/>
                    <IfLastModified age="30d"/>
                </Delete>
            </DefaultRolloverStrategy>
        </RollingFile>
    </Appenders>


    <Loggers>
        <logger name="com.ddup.county.life" level="DEBUG"></logger>
        <Root level="INFO">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="logCenter"/>
        </Root>
    </Loggers>
</Configuration>
